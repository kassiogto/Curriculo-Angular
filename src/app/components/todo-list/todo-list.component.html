<p-card class="card">
  <h2>Todo List</h2>
  <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm)" class="form-style">
    <div style="height: 80px">
      <small style="padding: 0 1px">Escreva do objetivo do dia!</small>
      <div>
        <input
          type="text"
          id="task"
          name="task"
          required
          pInputText
          placeholder="Passear com o cachorro"
          class="input-button"
          [(ngModel)]="model.label"
        />
        <button
          pButton
          pRipple
          label="Salvar"
          class="p-button-success p-button-border"
        ></button>
      </div>
      <small *ngIf="error" style="padding: 0 1px; color: red">{{
        error
      }}</small>
    </div>
  </form>
  <div class="content">
    <p-table
      [value]="items"
      [tableStyle]="{ 'min-width': '100%' }"
      emptyMessage="TES"
    >
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 50%">Task</th>
          <th>Status</th>
          <th style="display: flex; justify-content: center">Ações</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        <tr *ngIf="item">
          <td>{{ item.name }}</td>
          <td>
            <p-tag
              [value]="item.status === false ? 'A CONCLUIR' : 'CONCLUÍDO'"
              [severity]="getSeverity(item.status)"
            />
          </td>
          <td class="actions">
            <button
              type="button"
              pButton
              pRipple
              icon="pi pi-pencil"
              (click)="setSelectedTask(item)"
            ></button>
            <button
              (click)="removeData(item)"
              type="button"
              pButton
              pRipple
              severity="danger"
              icon="pi pi-trash"
            ></button>
            <button
              (click)="changeStatus(item)"
              type="button"
              pButton
              pRipple
              severity="success"
              icon="pi pi-check"
            ></button>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td
            style="
              width: 100%;
              height: 190px;
              display: flex;
              align-items: center;
              justify-content: end;
              font-size: larger;
              font-weight: 600;
            "
          >
            Nenhuma task encontrada.
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <div style="width: 100%; display: flex; justify-content: end;">
    <a href="/curriculo" pButton pRipple label="ir para curriculo" iconPos="right" icon="pi pi-arrow-right" style="text-decoration: none;"></a>
  </div>
</p-card>
